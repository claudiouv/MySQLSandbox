{
  "checks": [
    {
      "id": "mysqlport",
      "name": "MySQL TCP on port 3306",
      "tcp": "127.0.0.1:3306",
      "interval": "10s",
      "timeout": "1s"
    },
    {
      "id": "mysqlping",
      "name": "MySQL Ping",
      "args": ["/usr/bin/mysqladmin", "ping"],
      "interval": "10s"
    },
    {
      "id": "mysql_replication_running",
      "name": "MySQL Replication SQL Running",
      "args": ["/bin/bash", "-c", "set -e; /usr/bin/mysql -e 'SHOW SLAVE STATUS\\G' | grep -w Slave_SQL_Running | awk '{ print $1$2; if ($2 == \"No\") { exit 1 } else { exit 0}}'"],
      "interval": "10s"
    },
    {
      "id": "mysql_replication_lag",
      "name": "MySQL Replication Lag",
      "args": ["/bin/bash", "-c", "set -e; /usr/bin/mysql -e 'SHOW SLAVE STATUS\\G' | grep -w Seconds_Behind_Master | awk '{ print $1$2; if ($2 >0) { exit 1 } else { exit 0}}'"],
      "interval": "10s"
    }
  ]
}
